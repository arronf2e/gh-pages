<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>(a&#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D;2 &amp;&amp; a&#x3D;&#x3D;3) ever evaluate to true? 几种解法分析 - Arron FE Blog</title><meta name="description" content="1. Object.defineProperty var val = 1; Object.defineProperty(window, 'a', { configurable: true, get: function() { console.log(`触发第${val}次get`); return val++ } }) if(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) { console.log('yes!') } 触发第1次get 触发第2次get 触发第3次get yes! 2. toString() valueOf() const b = { i:&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://arronf2e.github.io/gh-pages/a-1-and-a-2-and-a3-ever-evaluate-to-true-ji-chong-jie-fa-fen-xi.html"><link rel="amphtml" href="https://arronf2e.github.io/gh-pages/amp/a-1-and-a-2-and-a3-ever-evaluate-to-true-ji-chong-jie-fa-fen-xi.html"><link type="application/atom+xml" rel="alternate" href="https://arronf2e.github.io/gh-pages/feed.xml"><meta property="og:title" content="(a== 1 && a ==2 && a==3) ever evaluate to true? 几种解法分析"><meta property="og:site_name" content="Arron FE Blog"><meta property="og:description" content="1. Object.defineProperty var val = 1; Object.defineProperty(window, 'a', { configurable: true, get: function() { console.log(`触发第${val}次get`); return val++ } }) if(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) { console.log('yes!') } 触发第1次get 触发第2次get 触发第3次get yes! 2. toString() valueOf() const b = { i:&hellip;"><meta property="og:url" content="https://arronf2e.github.io/gh-pages/a-1-and-a-2-and-a3-ever-evaluate-to-true-ji-chong-jie-fa-fen-xi.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Roboto:400,500&amp;subset=latin-ext" rel="stylesheet"><link rel="stylesheet" href="https://arronf2e.github.io/gh-pages/assets/css/style.css?v=9b7022774e921c95a184fe9ebf86d753"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://arronf2e.github.io/gh-pages/a-1-and-a-2-and-a3-ever-evaluate-to-true-ji-chong-jie-fa-fen-xi.html"},"headline":"(a== 1 && a ==2 && a==3) ever evaluate to true? 几种解法分析","datePublished":"2019-05-14T11:40","dateModified":"2019-05-14T11:46","description":"1. Object.defineProperty var val = 1; Object.defineProperty(window, 'a', { configurable: true, get: function() { console.log(`触发第${val}次get`); return val++ } }) if(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) { console.log('yes!') } 触发第1次get 触发第2次get 触发第3次get yes! 2. toString() valueOf() const b = { i:&hellip;","author":{"@type":"Person","name":"ARRON"},"publisher":{"@type":"Organization","name":"ARRON"}}</script><script async src="https://arronf2e.github.io/gh-pages/assets/js/lazysizes.min.js?v=300b16f1c14e1537e6b064f464ab33b1"></script></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://arronf2e.github.io/gh-pages/">Arron FE Blog</a></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2019-05-14T11:55">五月 14, 2019</time></div><div class="infobar__search"><form action="https://arronf2e.github.io/gh-pages/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main"><article class="post"><header class="u-header post__header"><h1>(a&#x3D;&#x3D; 1 &amp;&amp; a &#x3D;&#x3D;2 &amp;&amp; a&#x3D;&#x3D;3) ever evaluate to true? 几种解法分析</h1><div class="u-header__meta u-small"><div><a href="https://arronf2e.github.io/gh-pages/authors/arron/" title="ARRON">ARRON</a> <time datetime="2019-05-14T11:40">五月 14, 2019</time></div></div></header><div class="post__entry u-inner">1. Object.defineProperty<br><pre>var val = 1;<br>Object.defineProperty(window, 'a', {<br>    configurable: true,<br>    get: function() {<br>        console.log(`触发第${val}次get`);<br>        return val++<br>    }<br>})<br>if(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3) {<br>    console.log('yes!')<br>}<br><br>触发第1次get<br>触发第2次get<br>触发第3次get<br>yes!</pre><p> </p><p>2. toString() valueOf()</p><pre>const b = {<br>    i: 1,<br>    toString: function () {<br>        return this.i++;<br>    }<br>}<br>if(b == 1 &amp;&amp; b == 2 &amp;&amp; b == 3) {<br>     console.log('Hello World!'); // Hello World!<br>}<br><br>const b = {<br>    i: 1,<br>    valueOf: function () {<br>        return this.i++;<br>    }<br>}<br>if(b == 1 &amp;&amp; b == 2 &amp;&amp; b == 3) {<br>    console.log('Hello World!'); // Hello World!<br>}</pre><br>== 会隐式调用toString或者valueOf方法，如果原始类型的值和对象比较，对象会转为原始类型的值，再进行比较。对象转换成原始类型的值，算法是先调用valueOf方法，如果返回的还是对象，再接着调用toString方法<br><br>3. array.join = array.shift<br><pre>var a = [1,2,3];<br>a.join = a.shift;<br>console.log(a == 1 &amp;&amp; a == 2 &amp;&amp; a == 3);</pre>a == 1 ，此时 a 返回的就是shift返回的第一个元素 1 ，比较完之后 a = [2,3]<br>a == 2 ，此时 a 返回的就是shift返回的第一个元素 2 ，比较完之后 a = [3]<br>a == 3 ，此时 a 返回的就是shift返回的第一个元素 3 ，比较完之后 a = []<br><br>数组也是对象，数组的toString 方法返回一个字符串，该字符串由数组中的每个元素的 toString() 返回值经调用 join() 方法连接（由逗号隔开）组成。</div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on 五月 14, 2019</div><div class="post__share"></div></aside><footer class="post__footer"><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://arronf2e.github.io/gh-pages/authors/arron/" title="ARRON">ARRON</a></h4></div></div></footer></article></main><div class="sidebar"><section class="box"><h3 class="box__title">Authors</h3><ul class="authors"><li><div><a href="https://arronf2e.github.io/gh-pages/authors/arron/" class="authors__title">ARRON</a> <span class="u-small">Post: 1</span></div></li></ul></section><section class="newsletter box box--gray"><h3 class="box__title">Newsletter</h3><p class="newsletter__description">Sign up to receive email updates and to hear what's going on with us!</p><form>...</form></section></div><footer class="footer"><a class="footer__logo" href="https://arronf2e.github.io/gh-pages/">Arron FE Blog</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Powered by Publii</div></footer></div><script defer="defer" src="https://arronf2e.github.io/gh-pages/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://arronf2e.github.io/gh-pages/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script></body></html>